<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:shiro="http://www.pollix.at/thymeleaf/shiro">
  <head>
    <title>统计</title>
  </head>

  <body>
      <nav th:fragment="admin_main">

          <div class="content">

            <!-- start page title -->
            <div class="row">
              <div class="col-12">
                <div class="page-title-box">
                  <div class="page-title-right">
                    <form id="index" th:action="@{/admin/main}">
                      <input type="hidden" id="data" name="date">
                    </form>
                    <ol class="breadcrumb m-0">
                      <li class="breadcrumb-item"><a href="javascript: void(0);" onclick="mains('月')">月</a></li>
                      <li class="breadcrumb-item"><a href="javascript: void(0);" onclick="mains('周')">周</a></li>
                      <li class="breadcrumb-item active" ><a href="javascript: void(0);" onclick="mains('日')">日</a></li>
                    </ol>
                  </div>
                  <h4 class="page-title">统计</h4>
                </div> <!-- end page-title-box -->
              </div> <!-- end col-->
            </div>
            <!-- end page title -->


            <div class="row">
              <div class="col-xl-5">

                <div class="row">
                  <div class="col-lg-6">
                    <div class="card widget-flat">
                      <div class="card-body">
                        <div class="float-right">
                          <i class="mdi mdi-account-multiple widget-icon"></i>                                                </div>
                        <h5 class="text-muted font-weight-normal mt-0" title="Number of Customers">会员</h5>
                        <h3 class="mt-3 mb-3">[[${countMember}]]</h3>
                        <p class="mb-0 text-muted">
                          <span th:class="${riseOrFallMember>=0?'text-success mr-2':'text-danger mr-2'}" class="text-success mr-2"><i th:class="${riseOrFallMember>=0?'mdi mdi-arrow-up-bold':'mdi mdi-arrow-down-bold'}" class="mdi mdi-arrow-up-bold"></i> [[${riseOrFallMember}]]%</span>
                          <span class="text-nowrap" th:text="${riseOrFallMember>=0?'上涨':'下跌'}"></span>
                        </p>
                      </div> <!-- end card-body-->
                    </div> <!-- end card-->
                  </div> <!-- end col-->

                  <div class="col-lg-6">
                    <div class="card widget-flat">
                      <div class="card-body">
                        <div class="float-right">
                          <i class="mdi mdi-cart-plus widget-icon"></i>
                        </div>
                        <h5 class="text-muted font-weight-normal mt-0" title="Number of Orders">订单</h5>
                        <h3 class="mt-3 mb-3">[[${countOrder}]]</h3>
                        <p class="mb-0 text-muted">
                          <span th:class="${riseOrFallOrder>=0?'text-success mr-2':'text-danger mr-2'}" class="text-danger mr-2"><i th:class="${riseOrFallOrder>=0?'mdi mdi-arrow-up-bold':'mdi mdi-arrow-down-bold'}"></i>  [[${riseOrFallOrder}]]%</span>
                          <span class="text-nowrap" th:text="${riseOrFallOrder>=0?'上涨':'下跌'}" ></span>
                        </p>
                      </div> <!-- end card-body-->
                    </div> <!-- end card-->
                  </div> <!-- end col-->
                </div> <!-- end row -->

                <div class="row">
                  <div class="col-lg-6">
                    <div class="card widget-flat">
                      <div class="card-body">
                        <div class="float-right">
                          <i class="mdi mdi-currency-usd widget-icon"></i>                                                </div>
                        <h5 class="text-muted font-weight-normal mt-0" title="Average Revenue">广告收入</h5>
                        <h3 class="mt-3 mb-3">$[[${map_ad.this_ad_price}]]</h3>
                        <p class="mb-0 text-muted">
                          <span th:class="${#strings.containsIgnoreCase(map_ad.rise_or_fall_ad,'-')?'text-danger mr-2':'text-success mr-2'}" ><i th:class="${#strings.containsIgnoreCase(map_ad.rise_or_fall_ad,'-')?'mdi mdi-arrow-down-bold':'mdi mdi-arrow-up-bold'}"></i> [[${map_ad.rise_or_fall_ad}]]</span>
                          <span class="text-nowrap" th:text="${#strings.containsIgnoreCase(map_ad.rise_or_fall_ad,'-')?'下跌':'上涨'}" >下跌</span>
                        </p>
                      </div> <!-- end card-body-->
                    </div> <!-- end card-->
                  </div> <!-- end col-->

                  <div class="col-lg-6">
                    <div class="card widget-flat">
                      <div class="card-body">
                        <div class="float-right">
                          <i class="mdi mdi-charity widget-icon"></i>                                                </div>
                        <h5 class="text-muted font-weight-normal mt-0" title="Growth">访问量</h5>
                        <h3 class="mt-3 mb-3">[[${countProduct}]]</h3>
                        <p class="mb-0 text-muted">
                          <span th:class="${riseOrFallProduct>=0?'text-success mr-2':'text-danger mr-2'}"><i th:class="${riseOrFallProduct>=0?'mdi mdi-arrow-up-bold':'mdi mdi-arrow-down-bold'}"></i> [[${riseOrFallProduct}]]%</span>
                          <span class="text-nowrap" th:text="${riseOrFallProduct>=0?'上涨':'下跌'}" ></span>                                                </p>
                      </div> <!-- end card-body-->
                    </div> <!-- end card-->
                  </div> <!-- end col-->
                </div> <!-- end row -->
              </div> <!-- end col -->

              <div class="col-xl-7">
                <div class="card">
                  <div class="card-body">
                    <!--<div class="dropdown float-right">-->
                      <!--<a href="#" class="dropdown-toggle arrow-none card-drop" data-toggle="dropdown"-->
                         <!--aria-expanded="false">-->
                        <!--<i class="mdi mdi-dots-vertical"></i> </a>-->
                      <!--<div class="dropdown-menu dropdown-menu-right">-->
                        <!--&lt;!&ndash; item&ndash;&gt;-->
                        <!--<a href="javascript:void(0);" class="dropdown-item">Sales Report</a>-->
                        <!--&lt;!&ndash; item&ndash;&gt;-->
                        <!--<a href="javascript:void(0);" class="dropdown-item">Export Report</a>-->
                        <!--&lt;!&ndash; item&ndash;&gt;-->
                        <!--<a href="javascript:void(0);" class="dropdown-item">Profit</a>-->
                        <!--&lt;!&ndash; item&ndash;&gt;-->
                        <!--<a href="javascript:void(0);" class="dropdown-item">Action</a></div>-->
                    <!--</div>-->
                    <h4 class="header-title mb-3">产品及广告收入</h4>

                    <div style="height: 263px;" class="chartjs-chart">
                      <!--<canvas id="high-performing-product"></canvas>-->
                      <canvas id="adAndProduct"></canvas>
                    </div>
                  </div> <!-- end card-body-->
                </div> <!-- end card-->
              </div> <!-- end col -->
            </div>
            <!-- end row -->

            <div class="row">
              <div class="col-xl-8">
                <div class="card">
                  <div class="card-body">
                    <div class="dropdown float-right">
                      <a href="#" class="dropdown-toggle arrow-none card-drop" data-toggle="dropdown" aria-expanded="false">
                        <i class="mdi mdi-dots-vertical"></i>                                            </a>
                      <div class="dropdown-menu dropdown-menu-right">
                        <!-- item-->
                        <!--<a href="javascript:void(0);" class="dropdown-item">Sales Report</a>-->
                        <!--&lt;!&ndash; item&ndash;&gt;-->
                        <!--<a href="javascript:void(0);" class="dropdown-item">Export Report</a>-->
                        <!--&lt;!&ndash; item&ndash;&gt;-->
                        <!--<a href="javascript:void(0);" class="dropdown-item">Profit</a>-->
                        <!--&lt;!&ndash; item&ndash;&gt;-->
                        <!--<a href="javascript:void(0);" class="dropdown-item">Action</a>                                            -->
                      </div>
                    </div>
                    <h4 class="header-title mb-3">收入</h4>

                    <div class="chart-content-bg">
                      <div class="row text-center">
                        <div class="col-md-6">
                          <p class="text-muted mb-0 mt-3">本周</p>
                          <h2 class="font-weight-normal mb-3">
                            <small class="mdi mdi-checkbox-blank-circle text-primary align-middle mr-1"></small>
                            <span>$[[${adIncomeCountData.this_price}]]</span>
                          </h2>
                        </div>
                        <div class="col-md-6">
                          <p class="text-muted mb-0 mt-3">上周</p>
                          <h2 class="font-weight-normal mb-3">
                            <small class="mdi mdi-checkbox-blank-circle text-success align-middle mr-1"></small>
                            <span>$[[${adIncomeCountData.upper_price}]]</span>
                          </h2>
                        </div>
                      </div>
                    </div>

                    <!--<div class="dash-item-overlay d-none d-md-block">-->
                      <!--<h5>Today's Earning: $2,562.30</h5>-->
                      <!--<p class="text-muted font-13 mb-3 mt-2">Etiam ultricies nisi vel augue. Curabitur ullamcorper ultricies nisi. Nam eget dui.-->
                        <!--Etiam rhoncus...</p>-->
                      <!--<a href="javascript: void(0);" class="btn btn-outline-primary">View Statements-->
                        <!--<i class="mdi mdi-arrow-right ml-2"></i>                                            </a>                                        -->
                    <!--</div>-->

                    <div class="mt-3 chartjs-chart" style="height: 364px;">
                      <canvas id="revenue-chart"></canvas>
                    </div>
                  </div> <!-- end card-body-->
                </div> <!-- end card-->
              </div> <!-- end col-->

              <div class="col-xl-4">
                <div class="card">
                  <div class="card-body">
                    <div class="dropdown float-right">
                      <a href="#" class="dropdown-toggle arrow-none card-drop" data-toggle="dropdown" aria-expanded="false">
                        <i class="mdi mdi-dots-vertical"></i>                                            </a>
                      <!--<div class="dropdown-menu dropdown-menu-right">-->
                        <!--&lt;!&ndash; item&ndash;&gt;-->
                        <!--<a href="javascript:void(0);" class="dropdown-item">Sales Report</a>-->
                        <!--&lt;!&ndash; item&ndash;&gt;-->
                        <!--<a href="javascript:void(0);" class="dropdown-item">Export Report</a>-->
                        <!--&lt;!&ndash; item&ndash;&gt;-->
                        <!--<a href="javascript:void(0);" class="dropdown-item">Profit</a>-->
                        <!--&lt;!&ndash; item&ndash;&gt;-->
                        <!--<a href="javascript:void(0);" class="dropdown-item">Action</a>                                            </div>-->
                    </div>
                    <h4 class="header-title">访问量</h4>
                    <div class="mb-4 mt-4">
                      <div id="world-map-markers" style="height: 224px"></div>
                    </div>


                    <th:block th:each="indexProductstatisic : ${indexProductstatisicMap}">

                      <th:block th:if="${indexProductstatisicStat.index <= 3}">
                        <h5 class="mb-1 mt-0 font-weight-normal">[[${indexProductstatisic.province}]] <!--<b th:text="${#numbers.formatDecimal(T(java.lang.Math).floor(T(java.lang.Math).random()*256),1,0)}"></b>-->   </h5>
                        <div th:class="${indexProductstatisicStat.index == 3?'progress-w-percent mb-0':'progress-w-percent'}">
                          <span class="progress-value font-weight-bold">[[${indexProductstatisic.province_hits}]] </span>
                          <div class="progress progress-sm">
                            <div class="progress-bar" role="progressbar"  th:style="'width:'+ ${indexProductstatisic.proportion}+';background-color: rgb('+${#numbers.formatDecimal(T(java.lang.Math).floor(T(java.lang.Math).random()*256),1,0)}+','+${#numbers.formatDecimal(T(java.lang.Math).floor(T(java.lang.Math).random()*256),1,0)}+','+${#numbers.formatDecimal(T(java.lang.Math).floor(T(java.lang.Math).random()*256),1,0)}+');'"  aria-valuemin="0" aria-valuemax="100"></div>
                          </div>
                        </div>
                      </th:block>
                    </th:block>

                  </div> <!-- end card-body-->
                </div> <!-- end card-->
              </div> <!-- end col-->
            </div>
            <!-- end row -->
          </div> <!-- content -->

          <!-- Footer Start -->
          <div th:replace="~{admin/incloud/footer::footer}"></div>
          <!-- end Footer -->

      </nav>



  </body>
</html>
