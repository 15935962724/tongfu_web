<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
      xmlns:shiro="http://www.pollix.at/thymeleaf/shiro" >
<head>
    <meta charset="utf-8" />
    <title>品牌数据统计</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta content="A fully featured admin theme which can be used to build CRM, CMS, etc." name="description" />
    <meta content="Coderthemes" name="author" />
    <!-- App favicon -->
    <link rel="shortcut icon" href="assets/images/favicon.ico"  th:href="@{/assets/images/favicon.ico}" >

    <link href="assets/css/icons.min.css" th:href="@{/assets/css/icons.min.css}"  rel="stylesheet" type="text/css" />
    <link href="assets/css/app.min.css" th:href="@{/assets/css/app.min.css}"  rel="stylesheet" type="text/css" />
    <link href="assets/css/newCss.css" th:href="@{/assets/css/newCss.css}"  rel="stylesheet" type="text/css" />
</head>

<body>

<!-- Topbar Start -->
<div th:replace="~{web/incloud/top::top}"></div>
<!-- end Topbar -->


<div class="container-fluid">
    <!-- Begin page -->
    <div class="wrapper">

        <!-- ========== Left Sidebar Start ========== -->
        <div th:replace="~{web/incloud/left::left}"></div>
        <!-- Left Sidebar End -->

        <div class="content-page">

            <div class="content">




                <div class="row">

                    <div class="col-lg-6">
                        <div class="col-lg-12 card newCard" style="color: #333;">
                            <div class="col-lg-12 newCard_Title">
                                <div class="">
                                    产品浏览数与申请演示转换率分析
                                </div>
                                <div class="dateYear">
                                    <select class="form-control select" data-toggle="select">
                                        <option>全部</option>
                                    </select>
                                    <img src="../../assets/img/datePicker.png" width="20">
                                    <input id="" type="text" data-provide="datepicker" data-date-min-view-mode="2" data-date-format="yyyy">
                                </div>
                            </div>
                            <div class="col-lg-12 newCard_Content" style="margin-bottom: 0;height: 300px">
                                <div id="productStatisicDemonstration" class="col-lg-12 apex-charts"></div>
                            </div>


                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="col-lg-12 card newCard" style="color: #333;">
                            <div class="col-lg-12 newCard_Title">
                                <div class="">
                                    产品申请演示与申请试用转换率分析
                                </div>
                                <div class="dateYear">
                                    <select class="form-control select" data-toggle="select">
                                        <option>全部</option>
                                    </select>
                                    <img src="../../assets/img/datePicker.png" width="20">
                                    <input id="" type="text" data-provide="datepicker" data-date-min-view-mode="2" data-date-format="yyyy">
                                </div>
                            </div>
                            <div class="col-lg-12 newCard_Content" style="margin-bottom: 0;height: 300px">
                                <div id="productDemonstration" class="col-lg-12 apex-charts"></div>
                            </div>


                        </div>
                    </div>

                </div>




                <div class="row">

                    <div class="col-lg-6">
                        <div class="col-lg-12 card newCard" style="color: #333;">
                            <div class="col-lg-12 newCard_Title">
                                <div class="">
                                    产品申请演示与下单转换率
                                </div>
                                <div class="dateYear">
                                    <select class="form-control select" data-toggle="select">
                                        <option>全部</option>
                                    </select>
                                    <img src="../../assets/img/datePicker.png" width="20">
                                    <input id="" type="text" data-provide="datepicker" data-date-min-view-mode="2" data-date-format="yyyy">
                                </div>
                            </div>
                            <div class="col-lg-12 newCard_Content" style="margin-bottom: 0;height: 300px">
                                <div id="productStatisicOrder" class="col-lg-12 apex-charts"></div>
                            </div>


                        </div>
                    </div>

                    <div class="col-lg-6">
                        <div class="col-lg-12 card newCard" style="color: #333;">
                            <div class="col-lg-12 newCard_Title">
                                <div class="">
                                    微官网转换率
                                </div>
                                <div class="dateYear">
                                    <select class="form-control select" data-toggle="select">
                                        <option>全部</option>
                                    </select>
                                    <img src="../../assets/img/datePicker.png" width="20">
                                    <input id="" type="text" data-provide="datepicker" data-date-min-view-mode="2" data-date-format="yyyy">
                                </div>
                            </div>
                            <div class="col-lg-12 newCard_Content" style="margin-bottom: 0;height: 300px">
                                <div id="productStatisicCompany" class="col-lg-12 apex-charts"></div>
                            </div>


                        </div>
                    </div>

                </div>






            </div>

            <!-- Footer Start -->
            <div th:replace="~{web/incloud/footer::footer}"></div>
            <!-- end Footer -->
        </div> <!-- content-page -->
    </div> <!-- end wrapper-->

</div>
</body>
</html>
<script th:src="@{/assets/js/app.min.js}"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/apexcharts/3.6.12/apexcharts.min.js"></script>
<script th:src="@{/assets/js/vendor/jquery-jvectormap-1.2.2.min.js}"></script>
<script th:src="@{/assets/js/vendor/jquery-jvectormap-cn-mill.js}"></script>
<script th:inline="javascript" type="text/javascript">

    //产品浏览数与申请演示转换率分析
    //console.log([[${productStatisicDemonstration}]]);//产品浏览数与申请演示转换率分析
    var productStatisicDemonstrationData = [[${productStatisicDemonstration}]];
    var productStatisicDemonstrationOptions = {
        chart: {
            height: 350,
            type: "donut"
        },
        series: [productStatisicDemonstrationData[0].countProductDemonstration,productStatisicDemonstrationData[0].countProduct],
        legend: {
            show: !0,
            position: "bottom",
            horizontalAlign: "center",
            verticalAlign: "middle",
            floating: !1,
            fontSize: "14px",
            offsetX: 0,
            offsetY: -10
        },
        // tooltip: {
        //     custom: function(e) {
        //         return '<div class="arrow_box">' +
        //             '<span>' + pieRankingLabels[e.seriesIndex] + '：'+ pieRankingSeries[e.seriesIndex] +'单</span>' +
        //             '</div>'
        //     }
        // },
        labels: ['产品浏览数','申请演示'],
        responsive: [{
            breakpoint: 600,
            options: {
                chart: {
                    height: 240
                },
                legend: {
                    show: !1
                }
            }
        }]
    };
    var productStatisicDemonstrationApex = new ApexCharts(document.querySelector("#productStatisicDemonstration"), productStatisicDemonstrationOptions);
    productStatisicDemonstrationApex.render();


    //产品申请演示与申请试用转换率分析
    //console.log( [[${productDemonstration}]]);//产品申请演示与申请试用转换率分析
    var productDemonstrationData = [[${productDemonstration}]];
    var productDemonstrationOptions = {
        chart: {
            height: 350,
            type: "donut"
        },
        series: [productDemonstrationData[0].countProductDemonstration1,productDemonstrationData[0].countProductDemonstration0],
        legend: {
            show: !0,
            position: "bottom",
            horizontalAlign: "center",
            verticalAlign: "middle",
            floating: !1,
            fontSize: "14px",
            offsetX: 0,
            offsetY: -10
        },
        // tooltip: {
        //     custom: function(e) {
        //         return '<div class="arrow_box">' +
        //             '<span>' + pieRankingLabels[e.seriesIndex] + '：'+ pieRankingSeries[e.seriesIndex] +'单</span>' +
        //             '</div>'
        //     }
        // },
        labels: ['申请试用','申请演示'],
        responsive: [{
            breakpoint: 600,
            options: {
                chart: {
                    height: 240
                },
                legend: {
                    show: !1
                }
            }
        }]
    };
    var productDemonstrationApex = new ApexCharts(document.querySelector("#productDemonstration"), productDemonstrationOptions);
    productDemonstrationApex.render();


    //产品申请演示与下单转换率
    console.log( [[${productStatisicOrder}]]);//产品申请演示与下单转换率
    var productStatisicOrderData = [[${productStatisicOrder}]];
    var productStatisicOrderOptions = {
        chart: {
            height: 350,
            type: "donut"
        },
        series: [productStatisicOrderData[0].countProductDemonstration0,productStatisicOrderData[0].countOrder],
        legend: {
            show: !0,
            position: "bottom",
            horizontalAlign: "center",
            verticalAlign: "middle",
            floating: !1,
            fontSize: "14px",
            offsetX: 0,
            offsetY: -10
        },
        // tooltip: {
        //     custom: function(e) {
        //         return '<div class="arrow_box">' +
        //             '<span>' + pieRankingLabels[e.seriesIndex] + '：'+ pieRankingSeries[e.seriesIndex] +'单</span>' +
        //             '</div>'
        //     }
        // },
        labels: ['申请演示','订单量'],
        responsive: [{
            breakpoint: 600,
            options: {
                chart: {
                    height: 240
                },
                legend: {
                    show: !1
                }
            }
        }]
    };
    var productStatisicOrderApex = new ApexCharts(document.querySelector("#productStatisicOrder"), productStatisicOrderOptions);
    productStatisicOrderApex.render();


    //微官网转换率
    console.log([[${productStatisicCompany}]]);//微官网转换率
    var productStatisicCompanyData = [[${productStatisicCompany}]];
    var productStatisicCompanyOptions = {
        chart: {
            height: 350,
            type: "donut"
        },
        series: [productStatisicCompanyData[0].countProduct,productStatisicCompanyData[0].countCompany],
        legend: {
            show: !0,
            position: "bottom",
            horizontalAlign: "center",
            verticalAlign: "middle",
            floating: !1,
            fontSize: "14px",
            offsetX: 0,
            offsetY: -10
        },
        // tooltip: {
        //     custom: function(e) {
        //         return '<div class="arrow_box">' +
        //             '<span>' + pieRankingLabels[e.seriesIndex] + '：'+ pieRankingSeries[e.seriesIndex] +'单</span>' +
        //             '</div>'
        //     }
        // },
        labels: ['产品数量','公司数量'],
        responsive: [{
            breakpoint: 600,
            options: {
                chart: {
                    height: 240
                },
                legend: {
                    show: !1
                }
            }
        }]
    };
    var productStatisicCompanyApex = new ApexCharts(document.querySelector("#productStatisicCompany"), productStatisicCompanyOptions);
    productStatisicCompanyApex.render();



    var url = '/web/order/queryStatistics'; //自定义查询url     productId   startDate   endDate   三个参数



</script>